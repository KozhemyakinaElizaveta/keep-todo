import{j as c,r as T,c as ke,f as x,u as He,o as Ue,a as k,I as Fe,i as Ze,b as Be,M as Ve,d as We,e as $e,g as qe,s as Ge,h as ze,B as M,k as Xe,l as Ye,m as Qe,n as Je,p as ne,q as Ke,t as et,v as ie,w as tt,F as R,T as w,x as rt,y as nt}from"./index-CL2tmbQY.js";import{C as it,B as st}from"./chunk-Z6RXEUPO-BNhxFn5c.js";const ot=t=>c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"M2.25 4.71195C1.93934 4.71195 1.6875 4.96379 1.6875 5.27445C1.6875 5.58511 1.93934 5.83695 2.25 5.83695V4.71195ZM15.75 5.83695C16.0607 5.83695 16.3125 5.58511 16.3125 5.27445C16.3125 4.96379 16.0607 4.71195 15.75 4.71195V5.83695ZM3.75 5.27445V4.71195H3.1875V5.27445H3.75ZM14.25 5.27445H14.8125V4.71195H14.25V5.27445ZM13.7564 12.6227L14.2968 12.7787L13.7564 12.6227ZM10.293 15.6415L10.3867 16.1961L10.3867 16.1961L10.293 15.6415ZM7.70701 15.6415L7.80073 15.0869L7.80073 15.0869L7.70701 15.6415ZM7.5887 15.6215L7.49497 16.1762L7.49498 16.1762L7.5887 15.6215ZM4.24361 12.6227L3.70318 12.7787L4.24361 12.6227ZM10.4113 15.6215L10.3176 15.0669L10.3176 15.0669L10.4113 15.6215ZM5.88191 4.11704L6.3925 4.35305L6.3925 4.35305L5.88191 4.11704ZM6.61351 3.13584L6.23812 2.71693L6.23812 2.71693L6.61351 3.13584ZM7.70844 2.48022L7.90419 3.00756L7.90419 3.00756L7.70844 2.48022ZM10.2916 2.48022L10.4873 1.95288L10.4873 1.95288L10.2916 2.48022ZM12.1181 4.11704L12.6287 3.88103L12.6287 3.88103L12.1181 4.11704ZM2.25 5.83695H15.75V4.71195H2.25V5.83695ZM10.3176 15.0669L10.1992 15.0869L10.3867 16.1961L10.505 16.1761L10.3176 15.0669ZM7.80073 15.0869L7.68242 15.0669L7.49498 16.1762L7.61328 16.1961L7.80073 15.0869ZM13.6875 5.27445V9.13187H14.8125V5.27445H13.6875ZM4.3125 9.13189V5.27445H3.1875V9.13189H4.3125ZM13.6875 9.13187C13.6875 10.2604 13.5287 11.3832 13.2159 12.4667L14.2968 12.7787C14.6389 11.5938 14.8125 10.3659 14.8125 9.13187H13.6875ZM10.1992 15.0869C9.40527 15.221 8.5947 15.221 7.80073 15.0869L7.61328 16.1961C8.53134 16.3513 9.46863 16.3513 10.3867 16.1961L10.1992 15.0869ZM7.68243 15.0669C6.30393 14.8339 5.17618 13.8251 4.78404 12.4667L3.70318 12.7787C4.21408 14.5486 5.68624 15.8705 7.49497 16.1762L7.68243 15.0669ZM4.78404 12.4667C4.47127 11.3832 4.3125 10.2604 4.3125 9.13189H3.1875C3.1875 10.3659 3.36111 11.5937 3.70318 12.7787L4.78404 12.4667ZM10.505 16.1761C12.3137 15.8705 13.7859 14.5486 14.2968 12.7787L13.2159 12.4667C12.8238 13.8251 11.6961 14.8339 10.3176 15.0669L10.505 16.1761ZM6.1875 5.27445C6.1875 4.96025 6.25646 4.64737 6.3925 4.35305L5.37131 3.88103C5.16814 4.3206 5.0625 4.79429 5.0625 5.27445H6.1875ZM6.3925 4.35305C6.52865 4.0585 6.73017 3.78661 6.98891 3.55475L6.23812 2.71693C5.87006 3.04676 5.57438 3.4417 5.37131 3.88103L6.3925 4.35305ZM6.98891 3.55475C7.24777 3.32278 7.55832 3.13595 7.90419 3.00756L7.5127 1.95288C7.03962 2.12848 6.60606 2.38721 6.23812 2.71693L6.98891 3.55475ZM7.90419 3.00756C8.25008 2.87917 8.6226 2.8125 9 2.8125V1.6875C8.49098 1.6875 7.98575 1.77729 7.5127 1.95288L7.90419 3.00756ZM9 2.8125C9.3774 2.8125 9.74992 2.87917 10.0958 3.00757L10.4873 1.95288C10.0143 1.77729 9.50902 1.6875 9 1.6875V2.8125ZM10.0958 3.00757C10.4417 3.13595 10.7522 3.32278 11.0111 3.55475L11.7619 2.71693C11.3939 2.38721 10.9604 2.12848 10.4873 1.95288L10.0958 3.00757ZM11.0111 3.55475C11.2698 3.78661 11.4714 4.0585 11.6075 4.35305L12.6287 3.88103C12.4256 3.4417 12.1299 3.04676 11.7619 2.71693L11.0111 3.55475ZM11.6075 4.35305C11.7435 4.64737 11.8125 4.96025 11.8125 5.27445H12.9375C12.9375 4.79429 12.8319 4.3206 12.6287 3.88103L11.6075 4.35305ZM3.75 5.83695H14.25V4.71195H3.75V5.83695Z",fill:"white"}),c.jsx("path",{d:"M7.5 9V12M10.5 9V12",stroke:"white",strokeWidth:"1.125",strokeLinecap:"round"})]});function ve(t){return T.Children.toArray(t).filter(e=>T.isValidElement(e))}var[at,me]=ke({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),H=x(function(e,r){const n=He("List",e),{children:i,styleType:s="none",stylePosition:o,spacing:a,...l}=Ue(e),d=ve(i),m=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return c.jsx(at,{value:n,children:c.jsx(k.ul,{ref:r,listStyleType:s,listStylePosition:o,role:"list",__css:{...n.container,...m},...l,children:d})})});H.displayName="List";var ct=x((t,e)=>{const{as:r,...n}=t;return c.jsx(H,{ref:e,as:"ol",styleType:"decimal",marginStart:"1em",...n})});ct.displayName="OrderedList";var ut=x(function(e,r){const{as:n,...i}=e;return c.jsx(H,{ref:r,as:"ul",styleType:"initial",marginStart:"1em",...i})});ut.displayName="UnorderedList";var j=x(function(e,r){const n=me();return c.jsx(k.li,{ref:r,...e,__css:n.item})});j.displayName="ListItem";var lt=x(function(e,r){const n=me();return c.jsx(Fe,{ref:r,role:"presentation",...e,__css:n.icon})});lt.displayName="ListIcon";function dt(t,e){return Array.isArray(t)?t.map(r=>r===null?null:e(r)):Ze(t)?Object.keys(t).reduce((r,n)=>(r[n]=e(t[n]),r),{}):t!=null?e(t):null}var ye=t=>c.jsx(k.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});ye.displayName="StackItem";function ft(t){const{spacing:e,direction:r}=t,n={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":dt(r,i=>n[i])}}var De=x((t,e)=>{const{isInline:r,direction:n,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:d,className:p,shouldWrapChildren:m,...v}=t,u=r?"row":n??"column",f=T.useMemo(()=>ft({spacing:o,direction:u}),[o,u]),h=!!d,y=!m&&!h,D=T.useMemo(()=>{const b=ve(l);return y?b:b.map((C,P)=>{const L=typeof C.key<"u"?C.key:P,Re=P+1===b.length,re=m?c.jsx(ye,{children:C},L):C;if(!h)return re;const je=T.cloneElement(d,{__css:f}),Ae=Re?null:je;return c.jsxs(T.Fragment,{children:[re,Ae]},L)})},[d,f,h,y,m,l]),S=Be("chakra-stack",p);return c.jsx(k.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:u,flexWrap:a,gap:h?void 0:o,className:S,...v,children:D})});De.displayName="Stack";function ht(t){const{leastDestructiveRef:e,...r}=t;return c.jsx(Ve,{...r,initialFocusRef:e})}var gt=x((t,e)=>c.jsx(We,{ref:e,role:"alertdialog",...t}));const pt=T.createContext({dragDropManager:void 0});function O(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var se=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),W=function(){return Math.random().toString(36).substring(7).split("").join(".")},oe={INIT:"@@redux/INIT"+W(),REPLACE:"@@redux/REPLACE"+W(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+W()}};function vt(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Se(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(O(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(O(1));return r(Se)(t,e)}if(typeof t!="function")throw new Error(O(2));var i=t,s=e,o=[],a=o,l=!1;function d(){a===o&&(a=o.slice())}function p(){if(l)throw new Error(O(3));return s}function m(h){if(typeof h!="function")throw new Error(O(4));if(l)throw new Error(O(5));var y=!0;return d(),a.push(h),function(){if(y){if(l)throw new Error(O(6));y=!1,d();var S=a.indexOf(h);a.splice(S,1),o=null}}}function v(h){if(!vt(h))throw new Error(O(7));if(typeof h.type>"u")throw new Error(O(8));if(l)throw new Error(O(9));try{l=!0,s=i(s,h)}finally{l=!1}for(var y=o=a,D=0;D<y.length;D++){var S=y[D];S()}return h}function u(h){if(typeof h!="function")throw new Error(O(10));i=h,v({type:oe.REPLACE})}function f(){var h,y=m;return h={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(O(11));function b(){S.next&&S.next(p())}b();var C=y(b);return{unsubscribe:C}}},h[se]=function(){return this},h}return v({type:oe.INIT}),n={dispatch:v,subscribe:m,getState:p,replaceReducer:u},n[se]=f,n}function g(t,e,...r){if(mt()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function mt(){return typeof process<"u"&&!0}function yt(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function Dt(t,e){return t.filter(r=>r!==e)}function Te(t){return typeof t=="object"}function St(t,e){const r=new Map,n=s=>{r.set(s,r.has(s)?r.get(s)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((s,o)=>{s===1&&i.push(o)}),i}function Tt(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Y="dnd-core/INIT_COORDS",U="dnd-core/BEGIN_DRAG",Q="dnd-core/PUBLISH_DRAG_SOURCE",F="dnd-core/HOVER",Z="dnd-core/DROP",B="dnd-core/END_DRAG";function ae(t,e){return{type:Y,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Ot={type:Y,payload:{clientOffset:null,sourceClientOffset:null}};function Et(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:o}=n,a=t.getMonitor(),l=t.getRegistry();t.dispatch(ae(s)),bt(r,a,l);const d=wt(r,a);if(d==null){t.dispatch(Ot);return}let p=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");Ct(o),p=o(d)}t.dispatch(ae(s,p));const v=l.getSource(d).beginDrag(a,d);if(v==null)return;xt(v),l.pinSource(d);const u=l.getSourceType(d);return{type:U,payload:{itemType:u,item:v,sourceId:d,clientOffset:s||null,sourceClientOffset:p||null,isSourcePublic:!!i}}}}function bt(t,e,r){g(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){g(r.getSource(n),"Expected sourceIds to be registered.")})}function Ct(t){g(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function xt(t){g(Te(t),"Item must be an object.")}function wt(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function It(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){It(t,i,r[i])})}return t}function Nt(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Pt(n),Rt(n).forEach((o,a)=>{const l=Mt(o,a,i,n),d={type:Z,payload:{dropResult:Lt({},r,l)}};t.dispatch(d)})}}function Pt(t){g(t.isDragging(),"Cannot call drop while not dragging."),g(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Mt(t,e,r,n){const i=r.getTarget(t);let s=i?i.drop(n,t):void 0;return _t(s),typeof s>"u"&&(s=e===0?{}:n.getDropResult()),s}function _t(t){g(typeof t>"u"||Te(t),"Drop result must either be an object or undefined.")}function Rt(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function jt(t){return function(){const r=t.getMonitor(),n=t.getRegistry();At(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:B}}}function At(t){g(t.isDragging(),"Cannot call endDrag while not dragging.")}function G(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function kt(t){return function(r,{clientOffset:n}={}){Ht(r);const i=r.slice(0),s=t.getMonitor(),o=t.getRegistry(),a=s.getItemType();return Ft(i,o,a),Ut(i,s,o),Zt(i,s,o),{type:F,payload:{targetIds:i,clientOffset:n||null}}}}function Ht(t){g(Array.isArray(t),"Expected targetIds to be an array.")}function Ut(t,e,r){g(e.isDragging(),"Cannot call hover while not dragging."),g(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];g(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const s=r.getTarget(i);g(s,"Expected targetIds to be registered.")}}function Ft(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],s=e.getTargetType(i);G(s,r)||t.splice(n,1)}}function Zt(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Bt(t){return function(){if(t.getMonitor().isDragging())return{type:Q}}}function Vt(t){return{beginDrag:Et(t),publishDragSource:Bt(t),hover:kt(t),drop:Nt(t),endDrag:jt(t)}}class Wt{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(s){return(...o)=>{const a=s.apply(e,o);typeof a<"u"&&r(a)}}const i=Vt(this);return Object.keys(i).reduce((s,o)=>{const a=i[o];return s[o]=n(a),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function $t(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Oe(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qt(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Oe($t(e,n),r)}function Gt(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Oe(e,r)}const N=[],J=[];N.__IS_NONE__=!0;J.__IS_ALL__=!0;function zt(t,e){return t===N?!1:t===J||typeof e>"u"?!0:Tt(e,t).length>0}class Xt{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;g(typeof e=="function","listener must be a function."),g(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),a=o.stateId;try{a===i||a===i+1&&!zt(o.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(s)}subscribeToOffsetChange(e){g(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return g(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(g(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return G(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(g(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!G(i,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return qt(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Gt(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const ce=typeof global<"u"?global:self,Ee=ce.MutationObserver||ce.WebKitMutationObserver;function be(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function Yt(t){let e=1;const r=new Ee(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Qt=typeof Ee=="function"?Yt:be;class Jt{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Qt(this.flush),this.requestErrorThrow=be(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Kt{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class er{create(e){const r=this.freeTasks,n=r.length?r.pop():new Kt(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Ce=new Jt,tr=new er(Ce.registerPendingError);function rr(t){Ce.enqueueTask(tr.create(t))}const K="dnd-core/ADD_SOURCE",ee="dnd-core/ADD_TARGET",te="dnd-core/REMOVE_SOURCE",V="dnd-core/REMOVE_TARGET";function nr(t){return{type:K,payload:{sourceId:t}}}function ir(t){return{type:ee,payload:{targetId:t}}}function sr(t){return{type:te,payload:{sourceId:t}}}function or(t){return{type:V,payload:{targetId:t}}}function ar(t){g(typeof t.canDrag=="function","Expected canDrag to be a function."),g(typeof t.beginDrag=="function","Expected beginDrag to be a function."),g(typeof t.endDrag=="function","Expected endDrag to be a function.")}function cr(t){g(typeof t.canDrop=="function","Expected canDrop to be a function."),g(typeof t.hover=="function","Expected hover to be a function."),g(typeof t.drop=="function","Expected beginDrag to be a function.")}function z(t,e){if(e&&Array.isArray(t)){t.forEach(r=>z(r,!1));return}g(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var E;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(E||(E={}));let ur=0;function lr(){return ur++}function dr(t){const e=lr().toString();switch(t){case E.SOURCE:return`S${e}`;case E.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function ue(t){switch(t[0]){case"S":return E.SOURCE;case"T":return E.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function le(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,s]}=r.next();if(s===e)return!0;n=!!i}while(!n);return!1}class fr{addSource(e,r){z(e),ar(r);const n=this.addHandler(E.SOURCE,e,r);return this.store.dispatch(nr(n)),n}addTarget(e,r){z(e,!0),cr(r);const n=this.addHandler(E.TARGET,e,r);return this.store.dispatch(ir(n)),n}containsHandler(e){return le(this.dragSources,e)||le(this.dropTargets,e)}getSource(e,r=!1){return g(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return g(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return ue(e)===E.SOURCE}isTargetId(e){return ue(e)===E.TARGET}removeSource(e){g(this.getSource(e),"Expected an existing source."),this.store.dispatch(sr(e)),rr(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){g(this.getTarget(e),"Expected an existing target."),this.store.dispatch(or(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);g(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){g(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=dr(e);return this.types.set(i,r),e===E.SOURCE?this.dragSources.set(i,n):e===E.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const hr=(t,e)=>t===e;function gr(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function pr(t,e,r=hr){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function vr(t=N,e){switch(e.type){case F:break;case K:case ee:case V:case te:return N;case U:case Q:case B:case Z:default:return J}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=St(r,n);if(!(i.length>0||!pr(r,n)))return N;const o=n[n.length-1],a=r[r.length-1];return o!==a&&(o&&i.push(o),a&&i.push(a)),i}function mr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){mr(t,i,r[i])})}return t}const de={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Dr(t=de,e){const{payload:r}=e;switch(e.type){case Y:case U:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case F:return gr(t.clientOffset,r.clientOffset)?t:yr({},t,{clientOffset:r.clientOffset});case B:case Z:return de;default:return t}}function Sr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Sr(t,i,r[i])})}return t}const Tr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Or(t=Tr,e){const{payload:r}=e;switch(e.type){case U:return I({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Q:return I({},t,{isSourcePublic:!0});case F:return I({},t,{targetIds:r.targetIds});case V:return t.targetIds.indexOf(r.targetId)===-1?t:I({},t,{targetIds:Dt(t.targetIds,r.targetId)});case Z:return I({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case B:return I({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Er(t=0,e){switch(e.type){case K:case ee:return t+1;case te:case V:return t-1;default:return t}}function br(t=0){return t+1}function Cr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Cr(t,i,r[i])})}return t}function wr(t={},e){return{dirtyHandlerIds:vr(t.dirtyHandlerIds,{type:e.type,payload:xr({},e.payload,{prevTargetIds:yt(t,"dragOperation.targetIds",[])})}),dragOffset:Dr(t.dragOffset,e),refCount:Er(t.refCount,e),dragOperation:Or(t.dragOperation,e),stateId:br(t.stateId)}}function Ir(t,e=void 0,r={},n=!1){const i=Lr(n),s=new Xt(i,new fr(i)),o=new Wt(i,s),a=t(o,e,r);return o.receiveBackend(a),o}function Lr(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Se(wr,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Nr(t,e){if(t==null)return{};var r=Pr(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pr(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let fe=0;const A=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Mr=T.memo(function(e){var{children:r}=e,n=Nr(e,["children"]);const[i,s]=_r(n);return T.useEffect(()=>{if(s){const o=xe();return++fe,()=>{--fe===0&&(o[A]=null)}}},[]),c.jsx(pt.Provider,{value:i,children:r})});function _r(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Rr(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Rr(t,e=xe(),r,n){const i=e;return i[A]||(i[A]={dragDropManager:Ir(t,e,r,n)}),i[A]}function xe(){return typeof global<"u"?global:window}const jr=({strokeColor:t="#161F29",...e})=>c.jsx("svg",{...e,width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M13.86 13.9026H15.75M3.51 9L2.25 9.03303M3.51 9C3.51 9.99411 4.31589 10.8 5.31 10.8C6.30411 10.8 7.11 9.99411 7.11 9C7.11 8.00589 6.30411 7.2 5.31 7.2C4.31589 7.2 3.51 8.00589 3.51 9ZM7.62673 9.03308H15.75M9.60072 4.16343L2.25 4.16343M15.75 4.16343H13.86M2.25 13.9026H9.60072M13.41 13.95C13.41 14.9441 12.6041 15.75 11.61 15.75C10.6159 15.75 9.81 14.9441 9.81 13.95C9.81 12.9559 10.6159 12.15 11.61 12.15C12.6041 12.15 13.41 12.9559 13.41 13.95ZM13.41 4.05C13.41 5.04411 12.6041 5.85 11.61 5.85C10.6159 5.85 9.81 5.04411 9.81 4.05C9.81 3.05589 10.6159 2.25 11.61 2.25C12.6041 2.25 13.41 3.05589 13.41 4.05Z",stroke:t,strokeWidth:"1.125",strokeLinecap:"round"})}),Ar=()=>{const t=$e(),e=T.useRef(null),r=qe(Ge),[n,i]=T.useState({all:[],active:[],completed:[]}),[s,o]=T.useState(null),{isOpen:a,onOpen:l,onClose:d}=ze();T.useEffect(()=>{if(r){const f=r.tasks||[],h=f.filter(D=>!D.completed),y=f.filter(D=>D.completed);i({all:f,active:h,completed:y})}},[r]);const p=f=>{t(nt({listId:(r==null?void 0:r.id)||0,taskId:f}))},m=f=>{o(f),l()},v=()=>{s&&r&&t(rt({listId:r.id,taskId:s})),o(null),d()},u=f=>c.jsx(M,{p:4,borderWidth:"1px",borderRadius:"lg",borderColor:"mallow.300",mb:2,bg:"white",children:c.jsxs(R,{align:"center",justify:"space-between",children:[c.jsx(it,{isChecked:f.completed,onChange:()=>p(f.id),mr:4,_hover:{borderColor:"mallow.300"}}),c.jsxs(De,{flex:1,children:[c.jsx(w,{fontSize:"md",textDecoration:f.completed?"line-through":"none",children:f.title}),f.description&&c.jsx(w,{fontSize:"sm",color:"gray.600",children:f.description})]}),c.jsxs(R,{align:"center",ml:2,children:[f.priority&&c.jsx(st,{colorScheme:f.priority==="high"?"red":f.priority==="medium"?"orange":"green",mr:2,children:f.priority}),c.jsx(ie,{"aria-label":"Delete task",icon:c.jsx(ot,{}),bg:"red.400",_hover:{bg:"red.500"},size:"sm",onClick:h=>{h.stopPropagation(),m(f.id)}})]})]})},f.id);return c.jsxs(M,{w:"100%",h:"100%",py:"25px",position:"relative",children:[c.jsx(ht,{isOpen:a,leastDestructiveRef:e,onClose:d,children:c.jsx(Xe,{children:c.jsxs(gt,{children:[c.jsx(Ye,{fontSize:"lg",fontWeight:"bold",children:"Удалить задачу"}),c.jsx(Qe,{children:"Вы уверены, что хотите удалить эту задачу? Это действие нельзя отменить."}),c.jsxs(Je,{children:[c.jsx(ne,{onClick:d,children:"Отмена"}),c.jsx(ne,{colorScheme:"red",onClick:v,ml:3,children:"Удалить"})]})]})})}),c.jsxs(Ke,{children:[c.jsx(et,{as:ie,icon:c.jsx(jr,{}),"aria-label":"Settings",colorScheme:"transparent",position:"absolute",top:"4",right:"2"}),c.jsx(tt,{p:4,children:c.jsxs(H,{spacing:2,children:[c.jsxs(j,{children:["Все задачи (",n.all.length,")"]}),c.jsxs(j,{children:["Активные (",n.active.length,")"]}),c.jsxs(j,{children:["Завершенные (",n.completed.length,")"]})]})})]}),c.jsxs(R,{gap:4,flexDir:"column",p:"20px",children:[c.jsxs(M,{children:[c.jsx(w,{fontSize:"xl",fontWeight:"bold",mb:4,children:"Активные задачи"}),n.active.length>0?n.active.map(u):c.jsx(w,{color:"gray.500",children:"Нет активных задач"})]}),c.jsxs(M,{children:[c.jsx(w,{fontSize:"xl",fontWeight:"bold",mb:4,children:"Завершенные задачи"}),n.completed.length>0?n.completed.map(u):c.jsx(w,{color:"gray.500",children:"Нет завершенных задач"})]})]})]})};function we(t){let e=null;return()=>(e==null&&(e=t()),e)}function kr(t,e){return t.filter(r=>r!==e)}function Hr(t,e){const r=new Set,n=s=>r.add(s);t.forEach(n),e.forEach(n);const i=[];return r.forEach(s=>i.push(s)),i}class Ur{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Hr(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=kr(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Fr{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Ie="__NATIVE_FILE__",Le="__NATIVE_URL__",Ne="__NATIVE_TEXT__",Pe="__NATIVE_HTML__",he=Object.freeze(Object.defineProperty({__proto__:null,FILE:Ie,HTML:Pe,TEXT:Ne,URL:Le},Symbol.toStringTag,{value:"Module"}));function $(t,e,r){const n=e.reduce((i,s)=>i||t.getData(s),"");return n??r}const X={[Ie]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Pe]:{exposeProperties:{html:(t,e)=>$(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Le]:{exposeProperties:{urls:(t,e)=>$(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Ne]:{exposeProperties:{text:(t,e)=>$(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Zr(t,e){const r=X[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Fr(r);return n.loadDataTransfer(e),n}function q(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(X).filter(r=>{const n=X[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Br=we(()=>/firefox/i.test(navigator.userAgent)),Me=we(()=>!!window.safari);class ge{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:s,c3s:o}=this;let a=r.length-1;if(e===r[a])return n[a];let l=0,d=o.length-1,p;for(;l<=d;){p=Math.floor(.5*(l+d));const u=r[p];if(u<e)l=p+1;else if(u>e)d=p-1;else return n[p]}a=Math.max(0,d);const m=e-r[a],v=m*m;return n[a]+i[a]*m+s[a]*v+o[a]*m*v}constructor(e,r){const{length:n}=e,i=[];for(let u=0;u<n;u++)i.push(u);i.sort((u,f)=>e[u]<e[f]?-1:1);const s=[],o=[];let a,l;for(let u=0;u<n-1;u++)a=e[u+1]-e[u],l=r[u+1]-r[u],s.push(a),o.push(l/a);const d=[o[0]];for(let u=0;u<s.length-1;u++){const f=o[u],h=o[u+1];if(f*h<=0)d.push(0);else{a=s[u];const y=s[u+1],D=a+y;d.push(3*D/((D+y)/f+(D+a)/h))}}d.push(o[o.length-1]);const p=[],m=[];let v;for(let u=0;u<d.length-1;u++){v=o[u];const f=d[u],h=1/s[u],y=f+d[u+1]-v-v;p.push((v-f-y)*h),m.push(y*h*h)}this.xs=e,this.ys=r,this.c1s=d,this.c2s=p,this.c3s=m}}const Vr=1;function _e(t){const e=t.nodeType===Vr?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function _(t){return{x:t.clientX,y:t.clientY}}function Wr(t){var e;return t.nodeName==="IMG"&&(Br()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function $r(t,e,r,n){let i=t?e.width:r,s=t?e.height:n;return Me()&&t&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function qr(t,e,r,n,i){const s=Wr(e),a=_e(s?t:e),l={x:r.x-a.x,y:r.y-a.y},{offsetWidth:d,offsetHeight:p}=t,{anchorX:m,anchorY:v}=n,{dragPreviewWidth:u,dragPreviewHeight:f}=$r(s,e,d,p),h=()=>{let L=new ge([0,.5,1],[l.y,l.y/p*f,l.y+f-p]).interpolate(v);return Me()&&s&&(L+=(window.devicePixelRatio-1)*f),L},y=()=>new ge([0,.5,1],[l.x,l.x/d*u,l.x+u-d]).interpolate(m),{offsetX:D,offsetY:S}=i,b=D===0||D,C=S===0||S;return{x:b?D:y(),y:C?S:h()}}class Gr{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function zr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){zr(t,i,r[i])})}return t}class Xr{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=o=>this.handleDragStart(o,e),s=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",s),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=o=>this.handleDragEnter(o,e),i=o=>this.handleDragOver(o,e),s=o=>this.handleDrop(o,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",s),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return pe({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return pe({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(he).some(r=>he[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Zr(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&_e(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=_(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=i,l=q(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const p=this.monitor.getSourceId(),m=this.sourceNodes.get(p),v=this.sourcePreviewNodes.get(p)||m;if(v){const{anchorX:u,anchorY:f,offsetX:h,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),b=qr(m,v,o,{anchorX:u,anchorY:f},{offsetX:h,offsetY:y});a.setDragImage(v,b.x,b.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,l=q(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:_(i)}),s.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=_(i),this.scheduleHover(s),(s||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else q(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:_(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new Gr(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Ur(this.isNodeInDocument)}}const Yr=function(e,r,n){return new Xr(e,r,n)},en=()=>c.jsx(R,{h:"80vh",children:c.jsx(Mr,{backend:Yr,children:c.jsx(Ar,{})})});export{en as default};
